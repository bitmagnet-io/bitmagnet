import{b as F,e as j,f as B}from"./chunk-HXCDL7LV.js";import"./chunk-OS3AV5XL.js";import"./chunk-AMUSMSN6.js";import"./chunk-BRPPGP57.js";import{E as b,F as k,G as S,H as I,J as E,K as O,Oa as w,Ta as H,Ua as z,b as y,fa as A,i as P,ka as D,na as q}from"./chunk-EH7PJXWD.js";import"./chunk-6XXA7HXI.js";import{j as v}from"./chunk-FKMTSCBK.js";import{$b as c,Cb as C,Hb as p,Mb as _,Qb as i,Rb as a,Sb as l,Tb as g,Ub as x,kb as o,kc as s,lc as h,mc as T,pc as M,qa as f,ua as u}from"./chunk-3DR3CJRN.js";function G(t,d){t&1&&l(0,"mat-progress-bar",1)}function L(t,d){t&1&&(i(0,"p"),s(1,"Not found!"),a())}function N(t,d){if(t&1&&(i(0,"mat-card",2)(1,"mat-card-header")(2,"mat-icon",3),s(3),a(),i(4,"mat-card-title"),s(5),a(),i(6,"mat-card-subtitle"),l(7,"app-torrent-chips",4),a()(),i(8,"mat-card-content"),l(9,"app-torrent-content",5),a()()),t&2){let n,e,m=c().$implicit,r=c();o(2),p("matTooltip",m("content_types.singular."+((n=r.torrentContent.contentType)!==null&&n!==void 0?n:"null"))),o(),h((e=(e=r.contentTypeInfo(r.torrentContent.contentType))==null?null:e.icon)!==null&&e!==void 0?e:"question_mark"),o(2),T(" ",r.torrentContent.torrent.name," "),o(2),p("torrentContent",r.torrentContent),o(2),p("torrentContent",r.torrentContent)("heading",!1)}}function Q(t,d){if(t&1&&(g(0),C(1,G,1,0,"mat-progress-bar",1)(2,L,2,0,"p")(3,N,10,6,"mat-card",2),x()),t&2){let n=c();o(),_(n.loading?1:n.found?3:2)}}var at=(()=>{class t{constructor(){this.route=f(v),this.apollo=f(P),this.loading=!0,this.found=!1,this.contentTypeInfo=j}ngOnInit(){this.loading=!0,this.route.paramMap.subscribe(n=>{this.apollo.query({query:w,variables:{input:{infoHashes:[n.get("infoHash")]}},fetchPolicy:"no-cache"}).subscribe(e=>{let m=e.data.torrentContent.search.items;this.torrentContent=m[0],this.found=m.length>0,this.loading=!1})})}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=u({type:t,selectors:[["app-torrent-permalink"]],standalone:!0,features:[M],decls:1,vars:0,consts:[[4,"transloco"],["mode","indeterminate"],[1,"torrent-permalink"],["matCardAvatar","",3,"matTooltip"],[3,"torrentContent"],[3,"torrentContent","heading"]],template:function(e,m){e&1&&C(0,Q,4,1,"ng-container",0)},dependencies:[z,b,O,S,E,I,k,A,D,q,y,H,F,B],styles:[".torrent-permalink[_ngcontent-%COMP%]{max-width:900px;margin:20px auto}.torrent-permalink[_ngcontent-%COMP%]   .mat-mdc-card-avatar[_ngcontent-%COMP%]{font-size:44px;margin-top:-10px;border-radius:0;overflow:visible}.torrent-permalink[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:16px 0 14px -56px;font-size:6px}"]})}}return t})();export{at as TorrentPermalinkComponent};
