import{b as F,e as j,f as B}from"./chunk-NZNLVSKN.js";import"./chunk-FYKYJK2Q.js";import"./chunk-QPOWPIPD.js";import"./chunk-W3DXNNS4.js";import{E as P,F as k,G as S,H as I,J as E,K as O,Oa as w,Ta as H,Ua as z,b as y,fa as A,i as b,ka as D,na as q}from"./chunk-FRQ6MKZA.js";import"./chunk-JGYM447R.js";import{j as v}from"./chunk-6GS6ZYTX.js";import{Db as u,Fb as l,Kb as _,Ob as m,Pb as p,Qb as c,Rb as g,Sb as x,Zb as s,gc as d,hc as h,ib as i,ic as T,lc as M,qa as f,ua as C}from"./chunk-IDBLIDSQ.js";function G(t,e){t&1&&c(0,"mat-progress-bar",1)}function L(t,e){t&1&&(m(0,"p"),d(1,"Not found!"),p())}function N(t,e){if(t&1&&(m(0,"mat-card",2)(1,"mat-card-header")(2,"mat-icon",3),d(3),p(),m(4,"mat-card-title"),d(5),p(),m(6,"mat-card-subtitle"),c(7,"app-torrent-chips",4),p()(),m(8,"mat-card-content"),c(9,"app-torrent-content",5),p()()),t&2){let a,o,r=s().$implicit,n=s();i(2),l("matTooltip",r("content_types.singular."+((a=n.torrentContent.contentType)!==null&&a!==void 0?a:"null"))),i(),h((o=(o=n.contentTypeInfo(n.torrentContent.contentType))==null?null:o.icon)!==null&&o!==void 0?o:"question_mark"),i(2),T(" ",n.torrentContent.torrent.name," "),i(2),l("torrentContent",n.torrentContent),i(2),l("torrentContent",n.torrentContent)("heading",!1)}}function Q(t,e){if(t&1&&(g(0),u(1,G,1,0,"mat-progress-bar",1)(2,L,2,0,"p")(3,N,10,6,"mat-card",2),x()),t&2){let a=s();i(),_(a.loading?1:a.found?3:2)}}var at=(()=>{let e=class e{constructor(){this.route=f(v),this.apollo=f(b),this.loading=!0,this.found=!1,this.contentTypeInfo=j}ngOnInit(){this.loading=!0,this.route.paramMap.subscribe(o=>{this.apollo.query({query:w,variables:{input:{infoHashes:[o.get("infoHash")]}},fetchPolicy:"no-cache"}).subscribe(r=>{let n=r.data.torrentContent.search.items;this.torrentContent=n[0],this.found=n.length>0,this.loading=!1})})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["app-torrent-permalink"]],standalone:!0,features:[M],decls:1,vars:0,consts:[[4,"transloco"],["mode","indeterminate"],[1,"torrent-permalink"],["matCardAvatar","",3,"matTooltip"],[3,"torrentContent"],[3,"torrentContent","heading"]],template:function(r,n){r&1&&u(0,Q,4,1,"ng-container",0)},dependencies:[z,P,O,S,E,I,k,A,D,q,y,H,F,B],styles:[".torrent-permalink[_ngcontent-%COMP%]{max-width:900px;margin:20px auto}.torrent-permalink[_ngcontent-%COMP%]   .mat-mdc-card-avatar[_ngcontent-%COMP%]{font-size:44px;margin-top:-10px;border-radius:0;overflow:visible}.torrent-permalink[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:16px 0 14px -56px;font-size:6px}"]});let t=e;return t})();export{at as TorrentPermalinkComponent};
