import{a as D,b as N,c as z,d as Ne,e as He,f as Je,g as Ue}from"./chunk-OJ5XRVB6.js";import"./chunk-FZR3LVFA.js";import{a as Ae}from"./chunk-ENCA42F6.js";import"./chunk-RQ2LQKI2.js";import{a as ze,b as Qe}from"./chunk-PX3TOMGC.js";import"./chunk-42PJPEMD.js";import{a as ve}from"./chunk-ASLGZ7DJ.js";import{a as Re}from"./chunk-MSAOOVCY.js";import{a as De}from"./chunk-DSEDLZDW.js";import{Aa as Be,Ba as qe,Ca as je,E as Se,J as be,L as Te,M as we,Ua as Le,a as pe,b as ue,ba as Me,d as me,e as de,f as _e,g as ge,h as fe,i as he,ja as Oe,ka as Pe,la as ke,ma as Ie,n as xe,q as Ce,qa as Ee,r as ye,ra as Fe,ya as $e,za as Ve}from"./chunk-VAEZNV34.js";import"./chunk-6XXA7HXI.js";import{i as le,k as se}from"./chunk-CMNWCZJM.js";import{$ as X,$b as s,B as M,Cb as x,Ea as _,Fa as g,Gb as ee,Hb as f,Kb as A,Mb as v,N as W,O as Y,Ob as k,Pb as I,Q as K,Qb as u,Rb as m,Sb as V,Tb as te,Ub as ne,Wb as P,Zb as h,a as c,ad as ae,b as p,bd as ce,jc as R,kb as l,kc as d,l as y,lc as E,mc as S,nc as F,o as G,pc as ie,qa as O,rc as oe,ua as Z,uc as re,vc as b,wc as T}from"./chunk-Z3WUIYN5.js";var Q={items:[],totalCount:0,totalCountIsEstimate:!1,aggregations:{}},B=class{constructor(n,e,o){this.apollo=n,this.errorsService=e,this.currentRequest=new y(0),this.loadingSubject=new y(!1),this.loading$=this.loadingSubject.asObservable(),this.result=Q,this.resultSubject=new y(this.result),this.result$=this.resultSubject.asObservable(),this.items$=this.resultSubject.pipe(M(i=>i.items)),this.overallTotalCount$=this.resultSubject.pipe(M(i=>{let a=0,r=!1;for(let w of i.aggregations.contentType??[])a+=w.count,r=r||w.isEstimate;return{count:a,isEstimate:r}})),this.availableContentTypes$=this.resultSubject.pipe(X((i,a)=>Array.from(new Set([...i,...(a.aggregations.contentType??[]).flatMap(r=>r.value?[r.value]:[])])),[])),this.contentTypeCounts$=this.resultSubject.pipe(M(i=>Object.fromEntries((i.aggregations.contentType??[]).map(a=>[a.value,{count:a.count,isEstimate:a.isEstimate}])))),o.subscribe(i=>{this.input=i.input,this.loadResult({input:p(c({},i.input),{cached:!0})})}),this.resultSubject.subscribe(i=>{this.result=i})}connect({}){return this.items$}disconnect(){this.resultSubject.complete()}refresh(){this.loadResult({input:p(c({},this.input),{cached:!1})})}loadResult(n){this.currentSubscription&&(this.currentSubscription.unsubscribe(),this.currentSubscription=void 0),this.loadingSubject.next(!0);let e=this.currentRequest.getValue()+1;this.currentRequest.next(e);let o=this.apollo.query({query:Se,variables:n,fetchPolicy:"no-cache"}).pipe(M(i=>i.data.torrentContent.search)).pipe(W(i=>(this.errorsService.addError(`Error loading item results: ${i.message}`),G)));this.currentSubscription=o.subscribe(i=>{e===this.currentRequest.getValue()&&(this.loadingSubject.next(!1),this.resultSubject.next(i))})}};var Ge=t=>({input:{queryString:t.queryString,limit:t.limit,page:t.page,totalCount:!0,hasNextPage:!0,orderBy:[t.orderBy],facets:{contentType:{aggregate:!0,filter:t.contentType?[t.contentType==="null"?null:t.contentType]:void 0},genre:t.facets.genre.active?{aggregate:!0,filter:t.facets.genre.filter}:void 0,language:t.facets.language.active?{aggregate:t.facets.language.active,filter:t.facets.language.filter}:void 0,torrentFileType:t.facets.fileType.active?{aggregate:!0,filter:t.facets.fileType.filter}:void 0,torrentSource:t.facets.torrentSource.active?{aggregate:!0,filter:t.facets.torrentSource.filter}:void 0,torrentTag:t.facets.torrentTag.active?{aggregate:!0,filter:t.facets.torrentTag.filter}:void 0,videoResolution:t.facets.videoResolution.active?{aggregate:!0,filter:t.facets.videoResolution.filter}:void 0,videoSource:t.facets.videoSource.active?{aggregate:!0,filter:t.facets.videoSource.filter}:void 0}}}),C={active:!1},q=class{constructor(n){this.controlsSubject=new y(n),this.controls$=this.controlsSubject.asObservable(),this.paramsSubject=new y(Ge(n)),this.params$=this.paramsSubject.asObservable(),this.controls$.pipe(K(100)).subscribe(e=>{let o=this.paramsSubject.getValue(),i=Ge(e);JSON.stringify(o)!==JSON.stringify(i)&&this.paramsSubject.next(i)})}update(n){let e=this.controlsSubject.getValue(),o=n(e);JSON.stringify(e)!==JSON.stringify(o)&&this.controlsSubject.next(o)}selectLanguage(n){this.update(e=>p(c({},e),{language:n}))}selectContentType(n){this.update(e=>p(c({},e),{contentType:n,page:1,facets:p(c({},e.facets),{genre:H(n,We.contentTypes)?e.facets.genre:C,videoResolution:H(n,Ye.contentTypes)?e.facets.videoResolution:C,videoSource:H(n,Ke.contentTypes)?e.facets.videoSource:C})}))}activateFacet(n){this.update(e=>p(c({},e),{facets:n.patchInput(e.facets,p(c({},n.extractInput(e.facets)),{active:!0}))}))}deactivateFacet(n){this.update(e=>{let o=n.extractInput(e.facets);return p(c({},e),{page:o.filter?1:e.page,facets:n.patchInput(e.facets,p(c({},o),{active:!1,filter:void 0}))})})}activateFilter(n,e){this.update(o=>{let i=n.extractInput(o.facets);return p(c({},o),{page:1,facets:n.patchInput(o.facets,p(c({},i),{filter:Array.from(new Set([...i.filter??[],e])).sort()}))})})}deactivateFilter(n,e){this.update(o=>{let i=n.extractInput(o.facets),a=i.filter?.filter(r=>r!==e);return p(c({},o),{page:1,facets:n.patchInput(o.facets,p(c({},i),{filter:a?.length?a:void 0}))})})}setQueryString(n){n=n||void 0,this.update(e=>{let o=e.orderBy;return n?n!==e.queryString&&(o=U):o.field==="relevance"&&(o=$),p(c({},e),{queryString:n,orderBy:o,page:n===e.queryString?e.page:1})})}selectOrderBy(n){let e={field:n,descending:J.find(o=>o.field===n)?.descending??!1};this.update(o=>p(c({},o),{orderBy:e.field!=="relevance"||o.queryString?e:$,page:1}))}toggleOrderByDirection(){this.update(n=>p(c({},n),{orderBy:p(c({},n.orderBy),{descending:!n.orderBy.descending}),page:1}))}handlePageEvent(n){this.update(e=>p(c({},e),{limit:n.pageSize,page:n.page}))}},it={key:"torrent_source",icon:"mediation",allowNull:!1,extractInput:t=>t.torrentSource,patchInput:(t,n)=>p(c({},t),{torrentSource:n}),extractAggregations:t=>t.torrentSource??[],resolveLabel:t=>t.label},ot={key:"torrent_tag",icon:"sell",allowNull:!1,extractInput:t=>t.torrentTag,patchInput:(t,n)=>p(c({},t),{torrentTag:n}),extractAggregations:t=>t.torrentTag??[],resolveLabel:t=>t.value},rt={key:"file_type",icon:"file_present",allowNull:!1,extractInput:t=>t.fileType,patchInput:(t,n)=>p(c({},t),{fileType:n}),extractAggregations:t=>t.torrentFileType??[],resolveLabel:(t,n)=>n.translate(`file_types.${t.value}`)},at={key:"language",icon:"translate",allowNull:!1,extractInput:t=>t.language,patchInput:(t,n)=>p(c({},t),{language:n}),extractAggregations:t=>t.language??[],resolveLabel:(t,n)=>n.translate(`languages.${t.value}`)},We={key:"genre",icon:"theater_comedy",allowNull:!1,contentTypes:["movie","tv_show"],extractInput:t=>t.genre,patchInput:(t,n)=>p(c({},t),{genre:n}),extractAggregations:t=>t.genre??[],resolveLabel:t=>t.label},Ye={key:"video_resolution",icon:"aspect_ratio",allowNull:!0,contentTypes:["movie","tv_show","xxx"],extractInput:t=>t.videoResolution,patchInput:(t,n)=>p(c({},t),{videoResolution:n}),extractAggregations:t=>(t.videoResolution??[]).map(n=>p(c({},n),{value:n.value??null})),resolveLabel:t=>t.value?.slice(1)??"?"},Ke={key:"video_source",icon:"album",allowNull:!0,contentTypes:["movie","tv_show","xxx"],extractInput:t=>t.videoSource,patchInput:(t,n)=>p(c({},t),{videoSource:n}),extractAggregations:t=>(t.videoSource??[]).map(n=>p(c({},n),{value:n.value??null})),resolveLabel:t=>t.value??"?"},j=[it,ot,rt,at,We,Ye,Ke],J=[{field:"relevance",descending:!0},{field:"published_at",descending:!0},{field:"updated_at",descending:!0},{field:"size",descending:!0},{field:"files_count",descending:!0},{field:"seeders",descending:!0},{field:"leechers",descending:!0},{field:"name",descending:!1}],$={field:"published_at",descending:!0},U={field:"relevance",descending:!0},H=(t,n)=>!n||t&&n.includes(t);var Xe=(t,n)=>n.key,ct=(t,n)=>n.field,Ze=(t,n)=>n.value,lt=t=>({x:t}),st=(t,n,e,o)=>[t,n,e,o];function pt(t,n){if(t&1&&(u(0,"small"),d(1),b(2,"number"),m()),t&2){let e=n;l(),F("",e.isEstimate?"~":"","",T(2,2,e.count),"")}}function ut(t,n){if(t&1&&(u(0,"small"),d(1),b(2,"number"),m()),t&2){let e=n;l(),F("",e.isEstimate?"~":"","",T(2,2,e.count),"")}}function mt(t,n){t&1&&(u(0,"small"),d(1,"0"),m())}function dt(t,n){if(t&1){let e=P();u(0,"li",6),h("click",function(){_(e);let i=s().$implicit,a=s(2);return g(a.controller.selectContentType(i.key))}),u(1,"mat-icon"),d(2),m(),d(3),x(4,ut,3,4,"small"),b(5,"async"),x(6,mt,2,0,"small"),m()}if(t&2){let e,o=s().$implicit,i=s().$implicit,a=s();A(a.controls.contentType===o.key?"active":""),l(2),E(o.icon),l(),S(" ",i("content_types.plural."+o.key)," "),l(),v((e=(e=T(5,5,a.dataSource.contentTypeCounts$))==null?null:e[o.key])?4:6,e)}}function _t(t,n){if(t&1&&(x(0,dt,7,7,"li",24),b(1,"async")),t&2){let e,o=n.$implicit,i=s(2);v(o.key==="null"||(e=T(1,1,i.dataSource.availableContentTypes$))!=null&&e.includes(o.key)?0:-1)}}function gt(t,n){if(t&1){let e=P();u(0,"mat-checkbox",30),h("change",function(i){let a=_(e).$implicit,r=s(3).$implicit,w=s(2);return g(i.checked?w.controller.activateFilter(r,a.value):w.controller.deactivateFilter(r,a.value))}),d(1),u(2,"small"),d(3),b(4,"number"),m()()}if(t&2){let e=n.$implicit,o=s(3).$implicit;f("checked",o.filter==null?null:o.filter.includes(e.value)),l(),S(" ",e.label," "),l(2),F("",e.isEstimate?"~":"","",T(4,4,e.count),"")}}function ft(t,n){if(t&1&&(u(0,"section",27),k(1,gt,5,6,"mat-checkbox",29,Ze),m()),t&2){let e=s(2).$implicit;l(),I(e.aggregations)}}function ht(t,n){if(t&1){let e=P();u(0,"mat-checkbox",32),h("change",function(){let i=_(e).$implicit,a=s(4).$implicit,r=s(2);return g(r.controller.activateFilter(a,i.value))}),d(1),u(2,"small"),d(3),b(4,"number"),m()()}if(t&2){let e=n.$implicit;l(),S(" ",e.label," "),l(2),F("",e.isEstimate?"~":"","",T(4,3,e.count),"")}}function xt(t,n){if(t&1&&k(0,ht,5,5,"mat-checkbox",31,Ze),t&2){let e=s(3).$implicit;I(e.aggregations)}}function Ct(t,n){if(t&1&&d(0),t&2){let e=s(4).$implicit;S(" ",e("general.none")," ")}}function yt(t,n){if(t&1&&(u(0,"section",28),x(1,xt,2,0)(2,Ct,1,1),m()),t&2){let e=s(2).$implicit;l(),v(e.aggregations.length?1:2)}}function vt(t,n){if(t&1){let e=P();u(0,"mat-expansion-panel",26),h("opened",function(){_(e);let i=s().$implicit,a=s(2);return g(a.controller.activateFacet(i))})("closed",function(){_(e);let i=s().$implicit,a=s(2);return g(a.controller.deactivateFacet(i))}),u(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),d(4),m(),d(5),m()(),x(6,ft,3,0,"section",27)(7,yt,3,1,"section",28),m()}if(t&2){let e=s().$implicit,o=s().$implicit;f("expanded",e.active),l(4),E(e.icon),l(),S(" ",o("facets."+e.key)," "),l(),v(e.filter!=null&&e.filter.length?6:7)}}function St(t,n){if(t&1&&x(0,vt,8,4,"mat-expansion-panel",25),t&2){let e=n.$implicit;v(e.relevant?0:-1)}}function bt(t,n){if(t&1){let e=P();u(0,"button",18),h("click",function(){_(e);let i=s(2);return i.queryString.reset(),g(i.controller.setQueryString(null))}),u(1,"mat-icon"),d(2,"close"),m()()}if(t&2){let e=s().$implicit;f("matTooltip",e("torrents.clear_search"))}}function Tt(t,n){if(t&1&&(u(0,"mat-option",33),d(1),m()),t&2){let e=s().$implicit,o=s().$implicit;f("value",e.field),l(),S(" ",o("torrents.ordering."+e.field)," ")}}function wt(t,n){if(t&1&&x(0,Tt,2,2,"mat-option",33),t&2){let e=n.$implicit,o=s(2);v(e.field!="relevance"||o.queryString.value?0:-1)}}function Mt(t,n){if(t&1){let e=P();te(0),V(1,"app-document-title",2),u(2,"mat-drawer-container",3)(3,"mat-drawer",4,0)(5,"mat-expansion-panel",5)(6,"mat-expansion-panel-header")(7,"mat-panel-title")(8,"mat-icon"),d(9,"interests"),m(),d(10),m()(),u(11,"section")(12,"nav")(13,"ul")(14,"li",6),h("click",function(){_(e);let i=s();return g(i.controller.selectContentType(null))}),u(15,"mat-icon",7),d(16,"emergency"),m(),d(17),x(18,pt,3,4,"small"),b(19,"async"),m(),k(20,_t,2,3,null,null,Xe),m()()()(),k(22,St,1,1,null,null,Xe),b(24,"async"),m(),u(25,"mat-drawer-content")(26,"div",8)(27,"div",9)(28,"button",10),h("click",function(){_(e);let i=R(4);return g(i.toggle())}),u(29,"mat-icon",11),d(30),m()()(),u(31,"div",12)(32,"mat-form-field",13)(33,"input",14),h("keyup.enter",function(){_(e);let i=s();return g(i.controller.setQueryString(i.queryString.value))}),m(),x(34,bt,3,1,"button",15),m()(),u(35,"div",16)(36,"mat-form-field",13)(37,"mat-label"),d(38),m(),u(39,"mat-select",17),h("valueChange",function(i){_(e);let a=s();return g(a.controller.selectOrderBy(i))}),k(40,wt,1,1,null,null,ct),m()(),u(42,"button",18),h("click",function(){_(e);let i=s();return g(i.controller.toggleOrderByDirection())}),u(43,"mat-icon"),d(44),m()()(),u(45,"div",19)(46,"button",20),h("click",function(){_(e);let i=s();return g(i.dataSource.refresh())}),u(47,"mat-icon"),d(48,"sync"),m()()()(),V(49,"mat-divider"),u(50,"app-torrents-bulk-actions",21),h("updated",function(){_(e);let i=s();return g(i.dataSource.refresh())}),m(),V(51,"mat-divider"),u(52,"app-torrents-table",22),h("updated",function(){_(e);let i=s();return g(i.dataSource.refresh())}),m(),u(53,"app-paginator",23),h("paging",function(i){_(e);let a=s();return g(a.controller.handlePageEvent(i))}),m()()(),ne()}if(t&2){let e,o,i=n.$implicit,a=R(4),r=s();l(),f("parts",re(36,st,r.controls.queryString,((e=r.controls.contentType)!==null&&e!==void 0?e:"null")==="null"?null:i("content_types.plural."+r.controls.contentType),r.controls.page>1?i("paginator.page_x",oe(34,lt,r.controls.page)):null,i("routes.torrents"))),l(2),f("mode",r.breakpoints.sizeAtLeast("Medium")?"side":"over")("opened",r.breakpoints.sizeAtLeast("Medium")),ee("role",r.breakpoints.sizeAtLeast("Medium")?"navigation":"dialog"),l(2),f("expanded",r.breakpoints.sizeAtLeast("Medium")),l(5),S(" ",i("facets.content_type")," "),l(4),A(r.controls.contentType===null?"active":""),l(3),S("",i("content_types.plural.all")," "),l(),v((o=T(19,30,r.dataSource.overallTotalCount$))?18:-1,o),l(2),I(r.contentTypes),l(2),I(T(24,32,r.facets$)),l(6),f("matTooltip",i("torrents.toggle_drawer")),l(2),E(a.opened?"arrow_circle_left":"arrow_circle_right"),l(3),f("placeholder",i("torrents.search"))("formControl",r.queryString),l(),v(r.queryString.value?34:-1),l(4),E(i("torrents.order_by")),l(),f("value",r.controls.orderBy.field),l(),I(r.orderByOptions),l(2),f("matTooltip",i("torrents.order_direction_toggle")),l(2),E(r.controls.orderBy.descending?"arrow_downward":"arrow_upward"),l(2),f("matTooltip",i("torrents.refresh")),l(4),f("selectedItems$",r.selectedItems$),l(2),f("dataSource",r.dataSource)("displayedColumns",r.breakpoints.sizeAtLeast("Medium")?r.allColumns:r.compactColumns)("selection",r.selection),l(),f("page",r.controls.page)("pageSize",r.controls.limit)("pageLength",r.dataSource.result.items.length)("totalLength",r.dataSource.result.totalCount)("totalIsEstimate",r.dataSource.result.totalCountIsEstimate)("hasNextPage",r.dataSource.result.hasNextPage)}}var Sn=(()=>{class t{constructor(){this.route=O(le),this.router=O(se),this.apollo=O(he),this.errorsService=O(ve),this.transloco=O(pe),this.breakpoints=O(Re),this.contentTypes=Qe,this.orderByOptions=J,this.allColumns=Je,this.compactColumns=Ue,this.queryString=new _e(""),this.result=Q,this.selection=new fe(!0,[]),this.selectedItemsSubject=new y([]),this.selectedItems$=this.selectedItemsSubject.asObservable(),this.subscriptions=Array(),this.controls=p(c({},Ot),{language:this.transloco.getActiveLang()}),this.controller=new q(this.controls),this.dataSource=new B(this.apollo,this.errorsService,this.controller.params$),this.subscriptions.push(this.controller.controls$.subscribe(e=>{this.controls=e})),this.facets$=this.controller.controls$.pipe(Y(this.dataSource.result$),M(([e,o])=>j.map(i=>p(c(c({},i),i.extractInput(e.facets)),{relevant:!i.contentTypes||!!(e.contentType&&e.contentType!=="null"&&i.contentTypes.includes(e.contentType)),aggregations:i.extractAggregations(o.aggregations).map(a=>p(c({},a),{label:i.resolveLabel(a,this.transloco)}))})))),this.subscriptions.push(this.dataSource.result$.subscribe(e=>{this.result=e;let o=new Set(e.items.map(({infoHash:i})=>i));this.selection.deselect(...this.selection.selected.filter(i=>!o.has(i)))}))}ngOnInit(){this.subscriptions.push(this.route.queryParams.subscribe(e=>{let o=N(e,"query");this.queryString.setValue(o??null),this.controller.update(i=>{let a=D(e,"facets"),r=i.orderBy;return o?o!==i.queryString&&(r=U):r.field==="relevance"&&(r=$),p(c({},i),{queryString:o,orderBy:r,contentType:Pt(e,"content_type"),limit:z(e,"limit")??i.limit,page:z(e,"page")??i.page,facets:j.reduce((w,L)=>{let tt=a?.includes(L.key)??!1,nt=D(e,L.key);return L.patchInput(w,{active:tt,filter:nt})},i.facets)})})}),this.controller.controls$.subscribe(e=>{let o=e.page,i=e.limit;o===1&&(o=void 0),i===et&&(i=void 0),this.router.navigate([],{relativeTo:this.route,queryParams:c({query:e.queryString?encodeURIComponent(e.queryString):void 0,page:o,limit:i,content_type:e.contentType},kt(e.facets)),queryParamsHandling:"merge"})}),this.selection.changed.subscribe(e=>{let o=new Set(e.source.selected);this.selectedItemsSubject.next(this.result.items.filter(i=>o.has(i.infoHash)))}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.subscriptions=new Array}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=Z({type:t,selectors:[["app-torrents-search"]],standalone:!0,features:[ie],decls:1,vars:0,consts:[["drawer",""],[4,"transloco"],[3,"parts"],[1,"drawer-container"],[1,"drawer",3,"mode","opened"],[1,"panel-content-type",3,"expanded"],[3,"click"],["fontSet","material-icons"],[1,"search-form"],[1,"form-field-container","button-container","button-container-toggle-drawer"],["type","button","mat-icon-button","",1,"button-toggle-drawer",3,"click","matTooltip"],["aria-label","Side nav toggle icon","fontSet","material-icons"],[1,"form-field-container","form-field-container-search-query"],["subscriptSizing","dynamic"],["matInput","","autocapitalize","none",3,"keyup.enter","placeholder","formControl"],["mat-icon-button","",3,"matTooltip"],[1,"form-field-container","form-field-container-order-by"],[3,"valueChange","value"],["mat-icon-button","",3,"click","matTooltip"],[1,"form-field-container","button-container","button-container-refresh"],["mat-mini-fab","","color","primary",3,"click","matTooltip"],[3,"updated","selectedItems$"],[3,"updated","dataSource","displayedColumns","selection"],[3,"paging","page","pageSize","pageLength","totalLength","totalIsEstimate","hasNextPage"],[3,"class"],[3,"expanded"],[3,"opened","closed","expanded"],[1,"filtered"],[1,"unfiltered"],[3,"checked"],[3,"change","checked"],["checked","true"],["checked","true",3,"change"],[3,"value"]],template:function(o,i){o&1&&x(0,Mt,54,41,"ng-container",1)},dependencies:[Le,xe,ye,Ce,Me,Oe,Pe,ke,Ie,we,Te,Ee,Fe,Ve,qe,je,Be,$e,me,de,ge,ue,ae,ce,De,be,Ae,Ne,He],styles:[".mat-expansion-panel[_ngcontent-%COMP%]{margin-top:14px;margin-right:14px}.mat-expansion-panel[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{margin-left:-10px}.mat-expansion-panel.panel-content-type[_ngcontent-%COMP%]{margin-top:20px}.mat-expansion-panel.panel-content-type[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{margin-left:0}.mat-expansion-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding-left:0;margin:0}.mat-expansion-panel[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;line-height:40px;padding-left:40px}.mat-expansion-panel[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;left:0;top:8px}.mat-expansion-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.mat-expansion-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{top:6px}.mat-expansion-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{float:right;font-size:.8rem}.mat-expansion-panel[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{display:block}.mat-expansion-panel[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]     label{min-width:220px}.mat-expansion-panel[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-left:10px;position:absolute;right:0}.search-form[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:10px;position:relative;clear:both;display:flex;flex-wrap:wrap}.search-form[_ngcontent-%COMP%]   .form-field-container[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;position:relative;margin-left:20px;padding-bottom:20px}.search-form[_ngcontent-%COMP%]   .form-field-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{top:8px}.search-form[_ngcontent-%COMP%]   .form-field-container.form-field-container-order-by[_ngcontent-%COMP%]{padding-right:40px}.search-form[_ngcontent-%COMP%]   .form-field-container.form-field-container-order-by[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0}.search-form[_ngcontent-%COMP%]   .form-field-container.form-field-container-search-query[_ngcontent-%COMP%]{width:300px}.search-form[_ngcontent-%COMP%]   .form-field-container.form-field-container-search-query[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0}.search-form[_ngcontent-%COMP%]   .form-field-container.form-field-container-search-query[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding-right:50px}.search-form[_ngcontent-%COMP%]   .button-container-toggle-direction[_ngcontent-%COMP%]{margin-left:4px}app-paginator[_ngcontent-%COMP%]{float:right;padding-top:14px;padding-bottom:20px}"],changeDetection:0})}}return t})(),et=20,Ot={language:"en",page:1,limit:et,contentType:null,orderBy:$,facets:{genre:C,language:C,fileType:C,torrentSource:C,torrentTag:C,videoResolution:C,videoSource:C}},Pt=(t,n)=>{let e=N(t,n);return e&&e in ze?e:null},kt=t=>{let[n,e]=j.reduce((o,i)=>{let a=i.extractInput(t);return a.active?[[...o[0],i.key],a.filter?p(c({},o[1]),{[i.key]:a.filter}):o[1]]:o},[[],{}]);return c({facets:n.length?n.join(","):void 0},Object.fromEntries(Object.entries(e).map(([o,i])=>[o,encodeURIComponent(i.join(","))])))};export{Sn as TorrentsSearchComponent};
